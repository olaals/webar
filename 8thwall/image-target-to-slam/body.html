<!-- Copyright (c) 2020 8th Wall, Inc. -->
<!-- body.html is optional; elements will be added to your html body after app.js is loaded. -->
<div id="shake-tree" style="display: none;">
  <h2> Tap to shake tree! </h2>
</div>
<a-scene
  xrextras-almost-there
  xrextras-loading
  xrextras-runtime-error
  xrweb>
  <a-assets>
    <!-- Credit to Poly by Google for the model: https://poly.google.com/view/dA5osnS0Rzj -->
    <a-asset-item id="palm-glb" src="./assets/tree-palm.glb"></a-asset-item>
    <a-asset-item id="coconut"  src="./assets/coconut-single.glb"></a-asset-item>
  </a-assets>
  <a-camera 
    position="0 4 10" 
    raycaster="objects: .cantap" 
    cursor="fuse: false; rayOrigin: mouse;">
  </a-camera>
  <a-entity physics-image-target="name: moon" visible="false">
    <a-entity 
      id="palm" 
      gltf-model="#palm-glb"
      class="cantap"
      scale="0.001 0.001 0.001"
      rotation="90 0 0"
      shadow>
    </a-entity>
    <a-entity id="attachment" position="0 0.1 0.8"></a-entity>
  </a-entity>
  <a-entity
    light="
      type: directional;
      intensity: 0.8;
      castShadow: true;
      shadowMapHeight:2048;
      shadowMapWidth:2048;
      shadowCameraNear: -5;
      shadowCameraRight: 25;
      shadowCameraLeft: -25;
      shadowCameraTop: 25;
      shadowCameraBottom: -25;"
    position="0.5 5 0"
    shadow>
  </a-entity>
  <a-light type="ambient" intensity="0.5"></a-light>
  <a-box
      id="floor"
      static-body
      position="0 -0.5 0"
      rotation="-90 0 0"
      height="100"
      width="100"
      material="color: #000; transparent: true; opacity: 0.5; shader: shadow"
      shadow>
  </a-box>
</a-scene>
